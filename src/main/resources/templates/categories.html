<!doctype html>
<!-- html tag with Thymeleaf -->
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
	<!-- Required meta tags -->
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<!-- Bootstrap CSS -->
	<link th:rel="stylesheet" th:href="@{/webjars/bootstrap/5.3.2/css/bootstrap.min.css}"/>
	<title>categories</title>
</head>
<body>
	<div class="container py-4">
		
		<a sec:authorize="hasAuthority('ADMIN')"
			class="btn btn-primary"
			th:href="@{/create-category}">
			add 
		</a>
		<a th:href="@{/}">home</a>
		<div th:if="${categories.size()>0}">
			<h1>List of categries</h1>
			
			<table class="table border">
			  <thead class="thead-dark">
			    <tr>
			      <th scope="col">ID</th>
			      <th scope="col">name</th>
			      <th 
			      	scope="col">edit</th>
			      <th
			      	scope="col">delete</th>
			    </tr>
			  </thead>
			  <tbody>
			    <tr th:each="cat : ${categories}">
			      <th scope="row">[[${cat.id}]]</th>
			      <td>[[${cat.name}]]</td>
			      <td>
			      	<a th:href="@{update/category/{id}(id=${cat.id})}"
						class="btn btn-primary">
						update
					</a>
	      			</td>
			      <td>
					  <form method="POST"
						th:action="@{/delete/category/{id} (id=${cat.id})}">
						<button
							type="submit" class="btn btn-danger">
							delete
						</button>
					</form>
				  </td>
			    </tr>
			  </tbody>
			</table>
		</div>
		
	</div>
</body>
</html>